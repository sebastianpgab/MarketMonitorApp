@page "/distributor/{DistributorName}"
@model DistributorDetailsModel

<h1>Wybierz opcje dla @Model.DistributorName</h1>

<form method="post">
    <!-- Pole tekstowe dla InputText -->
    <div class="form-group">
        <input type="text" id="inputText" name="InputText" class="form-control" value="@Model.InputText" />
    </div>

    <!-- Checkboxy dla kategorii -->
    <div class="form-group">
        <input type="hidden" name="DistributorName" value="@Model.DistributorName" />
        @if (Model.Categories != null)
        {
            foreach (var category in Model.Categories)
            {
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="SelectedOptions" value="@category.LinkToCategory" id="category-@category.Id" onclick="toggleCheckboxes(this)">
                    <label class="form-check-label" for="category-@category.Id">
                        @category.Name
                    </label>
                </div>
            }
        }
    </div>

    <!-- Przycisk zapisz i pobierz -->
    <div class="form-group">
        <button type="submit" class="btn btn-primary mt-3">Zapisz i Pobierz zmiany cen</button>
    </div>
</form>

@section Scripts {
    <script>
        function toggleCheckboxes(checkbox) {
            var checkboxes = document.querySelectorAll('.form-check-input');
            checkboxes.forEach(function (cb) {
                if (cb !== checkbox) {
                    cb.checked = false;
                }
            });
        }
    </script>
}
